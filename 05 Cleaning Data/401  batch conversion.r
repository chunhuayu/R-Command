### Column type conversions

# As you saw in the last exercise, "T" was used to denote a trace amount 
# (i.e. too small to be accurately measured) of precipitation in the PrecipitationIn column. 
# In order to coerce this column to numeric, you'll need to deal with this somehow. 
# To keep things simple, we will just replace "T" with zero, as a string ("0").

# The dplyr and stringr packages are already loaded

### Instructions

# Use str_replace() from stringr to make the proper replacements in the PrecipitationIn column of weather5.
# Run the call to mutate_at as-is to conveniently apply as.numeric() to all columns 
# ........from CloudCover through WindDirDegrees (reading left to right in the data), saving the result to weather6.
# View the structure of weather6 to confirm the coercions were successful.

### R

> ## The dplyr and stringr packages are already loaded
> 
> # Replace T with 0 (T = trace)
> class(weather5$PrecipitationIn)
[1] "character"
> 
> weather5$PrecipitationIn <- str_replace(weather5$PrecipitationIn, "T", "0")
> 
> # Convert characters to numerics         ####****@@@ 批量convert; a batch of conversion 
> weather6 <- mutate_each(weather5, funs(as.numeric), CloudCover:WindDirDegrees)
> 
> # Look at result
> str(weather6)
'data.frame':	366 obs. of  23 variables:
 $ date                     : POSIXct, format: "2014-12-01" "2014-12-02" ...
 $ Events                   : chr  "Rain" "Rain-Snow" "Rain" "" ...
 $ CloudCover               : num  6 7 8 3 5 8 6 8 8 8 ...
 $ Max.Dew.PointF           : num  46 40 49 24 37 45 36 28 49 45 ...
 $ Max.Gust.SpeedMPH        : num  29 29 38 33 26 25 32 28 52 29 ...
 $ Max.Humidity             : num  74 92 100 69 85 100 92 92 100 100 ...
 $ Max.Sea.Level.PressureIn : num  30.4 30.7 30.4 30.6 30.7 ...
 $ Max.TemperatureF         : num  64 42 51 43 42 45 38 29 49 48 ...
 $ Max.VisibilityMiles      : num  10 10 10 10 10 10 10 10 10 10 ...
 $ Max.Wind.SpeedMPH        : num  22 24 29 25 22 22 25 21 38 23 ...
 $ Mean.Humidity            : num  63 72 79 54 66 93 61 70 93 95 ...
 $ Mean.Sea.Level.PressureIn: num  30.1 30.6 30.1 30.3 30.6 ...
 $ Mean.TemperatureF        : num  52 38 44 37 34 42 30 24 39 43 ...
 $ Mean.VisibilityMiles     : num  10 8 5 10 10 4 10 8 2 3 ...
 $ Mean.Wind.SpeedMPH       : num  13 15 12 12 10 8 15 13 20 13 ...
 $ MeanDew.PointF           : num  40 27 42 21 25 40 20 16 41 39 ...
 $ Min.DewpointF            : num  26 17 24 13 12 36 -3 3 28 37 ...
 $ Min.Humidity             : num  52 51 57 39 47 85 29 47 86 89 ...
 $ Min.Sea.Level.PressureIn : num  30 30.4 29.9 30.1 30.4 ...
 $ Min.TemperatureF         : num  39 33 37 30 26 38 21 18 29 38 ...
 $ Min.VisibilityMiles      : num  10 2 1 10 5 0 5 2 1 1 ...
 $ PrecipitationIn          : num  0.01 0.1 0.44 0 0.11 1.09 0.13 0.03 2.9 0.28 ...
 $ WindDirDegrees           : num  268 62 254 292 61 313 350 354 38 357 ...
> 
